(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{25:function(t,e){var r={};function n(t,e,r){this.x=t,this.y=e,this.z=r}n.prototype.dot2=function(t,e){return this.x*t+this.y*e},n.prototype.dot3=function(t,e,r){return this.x*t+this.y*e+this.z*r};var o=[new n(1,1,0),new n(-1,1,0),new n(1,-1,0),new n(-1,-1,0),new n(1,0,1),new n(-1,0,1),new n(1,0,-1),new n(-1,0,-1),new n(0,1,1),new n(0,-1,1),new n(0,1,-1),new n(0,-1,-1)],a=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],i=new Array(512),c=new Array(512);r.seed=function(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var e=0;e<256;e++){var r;r=1&e?a[e]^255&t:a[e]^t>>8&255,i[e]=i[e+256]=r,c[e]=c[e+256]=o[r%12]}},r.seed(0);var s=.5*(Math.sqrt(3)-1),u=(3-Math.sqrt(3))/6,f=1/6;function h(t){return t*t*t*(t*(6*t-15)+10)}function l(t,e,r){return(1-r)*t+r*e}r.simplex2=function(t,e){var r,n,o=(t+e)*s,a=Math.floor(t+o),f=Math.floor(e+o),h=(a+f)*u,l=t-a+h,b=e-f+h;l>b?(r=1,n=0):(r=0,n=1);var d=l-r+u,j=b-n+u,p=l-1+2*u,O=b-1+2*u,m=c[(a&=255)+i[f&=255]],v=c[a+r+i[f+n]],x=c[a+1+i[f+1]],g=.5-l*l-b*b,w=.5-d*d-j*j,M=.5-p*p-O*O;return 70*((g<0?0:(g*=g)*g*m.dot2(l,b))+(w<0?0:(w*=w)*w*v.dot2(d,j))+(M<0?0:(M*=M)*M*x.dot2(p,O)))},r.simplex3=function(t,e,r){var n,o,a,s,u,h,l=.3333333333333333*(t+e+r),b=Math.floor(t+l),d=Math.floor(e+l),j=Math.floor(r+l),p=(b+d+j)*f,O=t-b+p,m=e-d+p,v=r-j+p;O>=m?m>=v?(n=1,o=0,a=0,s=1,u=1,h=0):O>=v?(n=1,o=0,a=0,s=1,u=0,h=1):(n=0,o=0,a=1,s=1,u=0,h=1):m<v?(n=0,o=0,a=1,s=0,u=1,h=1):O<v?(n=0,o=1,a=0,s=0,u=1,h=1):(n=0,o=1,a=0,s=1,u=1,h=0);var x=O-n+f,g=m-o+f,w=v-a+f,M=O-s+2*f,y=m-u+2*f,A=v-h+2*f,S=O-1+.5,z=m-1+.5,F=v-1+.5,C=c[(b&=255)+i[(d&=255)+i[j&=255]]],T=c[b+n+i[d+o+i[j+a]]],k=c[b+s+i[d+u+i[j+h]]],L=c[b+1+i[d+1+i[j+1]]],R=.6-O*O-m*m-v*v,X=.6-x*x-g*g-w*w,Y=.6-M*M-y*y-A*A,q=.6-S*S-z*z-F*F;return 32*((R<0?0:(R*=R)*R*C.dot3(O,m,v))+(X<0?0:(X*=X)*X*T.dot3(x,g,w))+(Y<0?0:(Y*=Y)*Y*k.dot3(M,y,A))+(q<0?0:(q*=q)*q*L.dot3(S,z,F)))},r.perlin2=function(t,e){var r=Math.floor(t),n=Math.floor(e);t-=r,e-=n;var o=c[(r&=255)+i[n&=255]].dot2(t,e),a=c[r+i[n+1]].dot2(t,e-1),s=c[r+1+i[n]].dot2(t-1,e),u=c[r+1+i[n+1]].dot2(t-1,e-1),f=h(t);return l(l(o,s,f),l(a,u,f),h(e))},r.perlin3=function(t,e,r){var n=Math.floor(t),o=Math.floor(e),a=Math.floor(r);t-=n,e-=o,r-=a;var s=c[(n&=255)+i[(o&=255)+i[a&=255]]].dot3(t,e,r),u=c[n+i[o+i[a+1]]].dot3(t,e,r-1),f=c[n+i[o+1+i[a]]].dot3(t,e-1,r),b=c[n+i[o+1+i[a+1]]].dot3(t,e-1,r-1),d=c[n+1+i[o+i[a]]].dot3(t-1,e,r),j=c[n+1+i[o+i[a+1]]].dot3(t-1,e,r-1),p=c[n+1+i[o+1+i[a]]].dot3(t-1,e-1,r),O=c[n+1+i[o+1+i[a+1]]].dot3(t-1,e-1,r-1),m=h(t),v=h(e),x=h(r);return l(l(l(s,d,m),l(u,j,m),x),l(l(f,p,m),l(b,O,m),x),v)},t.exports=r},33:function(t,e,r){},34:function(t,e,r){},39:function(t,e,r){"use strict";r.r(e);var n=r(6),o=r.n(n),a=r(26),i=r.n(a),c=(r(33),r(34),r(29)),s=r(13),u=r(5),f=r(8);function h(t){var e=t.position,r=t.rotation,o=t.grid,a=o.width,i=o.height,c=o.sep,h=t.zOfXYT,l=t.colorOfXYZT,b=t.anim,d=b.init,j=b.update,p=Object(n.useRef)(),O=d,m=Object(n.useMemo)((function(){for(var t=[],e=[],r=[],n=0;n<i;n++)for(var o=0;o<a;o++){var s=c*(o-(a-1)/2),u=c*(n-(i+1)/2),f=h(s,u,O);t.push(s,u,f);var b=l(s,u,f,O);e.push(b.r,b.g,b.b),r.push(0,0,1)}return{positions:t=new Float32Array(t),colors:e=new Float32Array(e),normals:r=new Float32Array(r)}}),[a,i,c,h,l,O]),v=m.positions,x=m.colors,g=m.normals,w=Object(n.useMemo)((function(){for(var t=[],e=0,r=0;r<i-1;r++){for(var n=0;n<a-1;n++)t.push(e,e+1,e+a+1),t.push(e+a+1,e+a,e),e++;e++}return new Uint16Array(t)}),[a,i]),M=Object(n.useRef)(),y=Object(n.useRef)();return Object(s.c)((function(){O=j(O);for(var t=M.current.array,e=y.current.array,r=0,n=0;n<i;n++)for(var o=0;o<a;o++){t[r+2]=h(t[r],t[r+1],O);var c=l(t[r],t[r+1],t[r+2],O);e[r]=c.r,e[r+1]=c.g,e[r+2]=c.b,r+=3}M.current.needsUpdate=!0,y.current.needsUpdate=!0})),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("mesh",{ref:p,position:e,rotation:r,children:[Object(f.jsxs)("bufferGeometry",{children:[Object(f.jsx)("bufferAttribute",{ref:M,attachObject:["attributes","position"],array:v,count:v.length/3,itemSize:3}),Object(f.jsx)("bufferAttribute",{ref:y,attachObject:["attributes","color"],array:x,count:x.length/3,itemSize:3}),Object(f.jsx)("bufferAttribute",{attachObject:["attributes","normal"],array:g,count:g.length/3,itemSize:3}),Object(f.jsx)("bufferAttribute",{attach:"index",array:w,count:w.length,itemSize:1})]}),Object(f.jsx)("meshStandardMaterial",{vertexColors:!0,side:u.DoubleSide})]})})}var l=r(25),b=r.n(l);function d(t){var e=t.position,r=t.rotation;b.a.seed(Math.floor(Math.random()*Math.pow(2,16)));return Object(f.jsx)(h,{position:e,rotation:r,grid:{width:100,height:100,sep:.2},zOfXYT:function(t,e,r){return function(t,e,r){for(var n=1,o=1,a=0,i=0;i<20;i++)a+=n*Object(l.perlin3)(t*o*.125,e*o*.125,r),n*=.6,o*=2;return a}(t,e,r)},colorOfXYZT:function(t,e,r,n){return{r:r,g:r/5,b:Math.sqrt(Math.pow(t,2)+Math.pow(e,2))/75}},anim:{init:0,update:function(t){return t+.002}}})}function j(){var t=Object(s.d)(),e=t.camera,r=t.gl.domElement,o=Object(n.useRef)();return Object(s.c)((function(){return o.current.update()})),Object(f.jsx)("orbitControls",{ref:o,args:[e,r]})}function p(){return Object(f.jsxs)(s.a,{colorManagement:!0,camera:{position:[0,2,10],fov:75},children:[Object(f.jsx)("ambientLight",{}),Object(f.jsx)(n.Suspense,{fallback:null,children:Object(f.jsx)(d,{position:[0,0,0],rotation:[-Math.PI/2,0,0]})}),Object(f.jsx)(j,{})]})}Object(s.b)({OrbitControls:c.a});var O=function(){return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)("div",{className:"anim",children:Object(f.jsx)(n.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsx)(p,{})})}),Object(f.jsx)("a",{className:"badge",href:"https://github.com/claeb101/procedural-mesh-animation",alt:"Contributors",children:Object(f.jsx)("img",{src:"https://img.shields.io/github/last-commit/claeb101/procedural-mesh-animation",alt:""})})]})},m=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,40)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;r(t),n(t),o(t),a(t),i(t)}))};i.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(O,{})}),document.getElementById("root")),m()}},[[39,1,2]]]);
//# sourceMappingURL=main.eee8a3bc.chunk.js.map